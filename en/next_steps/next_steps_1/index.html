<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.102.3" />
    <meta name="description" content="Advanced Analytics for Web">
<meta name="author" content="Agnes Kiss and Jack Keene">

    <link rel="icon" href="/advanced-analytics-web-accelerator/images/favicon.png" type="image/png">

    <title>Model your pipeline data | Advanced Analytics for Web</title>

    
    <link href="/advanced-analytics-web-accelerator/css/nucleus.css?1662712460" rel="stylesheet">
    <link href="/advanced-analytics-web-accelerator/css/fontawesome-all.min.css?1662712460" rel="stylesheet">
    <link href="/advanced-analytics-web-accelerator/css/hybrid.css?1662712460" rel="stylesheet">
    <link href="/advanced-analytics-web-accelerator/css/featherlight.min.css?1662712460" rel="stylesheet">
    <link href="/advanced-analytics-web-accelerator/css/perfect-scrollbar.min.css?1662712460" rel="stylesheet">
    <link href="/advanced-analytics-web-accelerator/css/auto-complete.css?1662712460" rel="stylesheet">
    <link href="/advanced-analytics-web-accelerator/css/atom-one-dark-reasonable.css?1662712460" rel="stylesheet">
    <link href="/advanced-analytics-web-accelerator/css/theme.css?1662712460" rel="stylesheet">
    <link href="/advanced-analytics-web-accelerator/css/tabs.css?1662712460" rel="stylesheet">
    <link href="/advanced-analytics-web-accelerator/css/hugo-theme.css?1662712460" rel="stylesheet">
    
    <link href="/advanced-analytics-web-accelerator/css/theme-custom.css?1662712460" rel="stylesheet">
    
    

    <script src="/advanced-analytics-web-accelerator/js/jquery-3.3.1.min.js?1662712460"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
    </style>
    




  </head>
  <body class="" data-url="/advanced-analytics-web-accelerator/en/next_steps/next_steps_1/">
    <nav id="sidebar" class="showVisitedLinks">



  <div id="header-wrapper">
    <div id="header">
      <a id="logo"
   href='/advanced-analytics-web-accelerator/'>
   <img src="https://snowplow-incubator.github.io/advanced-analytics-web-accelerator//images/snowplow-logo-white.svg" />
</a>
    </div>
    
  </div>
  
    <section id="homelinks">
      <ul>
        <li>
            <a class="padding" href='/advanced-analytics-web-accelerator/'>Introduction</a>
        </li>
      </ul>
    </section>
  

    <div class="highlightable">
    <ul class="topics">

        
          
          




 
  
    
    <li data-nav-id="/advanced-analytics-web-accelerator/en/upload/" title="Upload sample data" class="dd-item
        
        
        
        ">
      <a href="/advanced-analytics-web-accelerator/en/upload/">
          <b>1. </b>Upload sample data
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/advanced-analytics-web-accelerator/en/upload/upload_1/" title="Data upload" class="dd-item ">
        <a href="/advanced-analytics-web-accelerator/en/upload/upload_1/">
        Data upload
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/advanced-analytics-web-accelerator/en/modeling/" title="Modeling" class="dd-item
        
        
        
        ">
      <a href="/advanced-analytics-web-accelerator/en/modeling/">
          <b>2. </b>Modeling
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/advanced-analytics-web-accelerator/en/modeling/modeling_1/" title="Install Snowplow dbt Package" class="dd-item ">
        <a href="/advanced-analytics-web-accelerator/en/modeling/modeling_1/">
        Install Snowplow dbt Package
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/advanced-analytics-web-accelerator/en/modeling/modeling_2/" title="Setup and run dbt Package" class="dd-item ">
        <a href="/advanced-analytics-web-accelerator/en/modeling/modeling_2/">
        Setup and run dbt Package
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/advanced-analytics-web-accelerator/en/modeling/modeling_3/" title="Explore Snowplow data" class="dd-item ">
        <a href="/advanced-analytics-web-accelerator/en/modeling/modeling_3/">
        Explore Snowplow data
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/advanced-analytics-web-accelerator/en/visualisation/" title="Visualisation" class="dd-item
        
        
        
        ">
      <a href="/advanced-analytics-web-accelerator/en/visualisation/">
          <b>3. </b>Visualisation
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/advanced-analytics-web-accelerator/en/visualisation/visualisation_1/" title="Streamlit" class="dd-item ">
        <a href="/advanced-analytics-web-accelerator/en/visualisation/visualisation_1/">
        Streamlit
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/advanced-analytics-web-accelerator/en/tracking/" title="Tracking" class="dd-item
        
        
        
        ">
      <a href="/advanced-analytics-web-accelerator/en/tracking/">
          <b>4. </b>Tracking
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/advanced-analytics-web-accelerator/en/tracking/tracking_1/" title="Setup" class="dd-item ">
        <a href="/advanced-analytics-web-accelerator/en/tracking/tracking_1/">
        Setup
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/advanced-analytics-web-accelerator/en/tracking/tracking_2/" title="Tracking Events" class="dd-item ">
        <a href="/advanced-analytics-web-accelerator/en/tracking/tracking_2/">
        Tracking Events
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/advanced-analytics-web-accelerator/en/tracking/tracking_3/" title="Adding Context" class="dd-item ">
        <a href="/advanced-analytics-web-accelerator/en/tracking/tracking_3/">
        Adding Context
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/advanced-analytics-web-accelerator/en/tracking/tracking_4/" title="Testing" class="dd-item ">
        <a href="/advanced-analytics-web-accelerator/en/tracking/tracking_4/">
        Testing
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/advanced-analytics-web-accelerator/en/enrich/" title="Enrich" class="dd-item
        
        
        
        ">
      <a href="/advanced-analytics-web-accelerator/en/enrich/">
          <b>5. </b>Enrich
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/advanced-analytics-web-accelerator/en/enrich/enrich_1/" title="Add Enrichments" class="dd-item ">
        <a href="/advanced-analytics-web-accelerator/en/enrich/enrich_1/">
        Add Enrichments
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/advanced-analytics-web-accelerator/en/next_steps/" title="Next steps" class="dd-item
        parent
        
        
        ">
      <a href="/advanced-analytics-web-accelerator/en/next_steps/">
          <b>6. </b>Next steps
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/advanced-analytics-web-accelerator/en/next_steps/next_steps_1/" title="Model your pipeline data" class="dd-item active">
        <a href="/advanced-analytics-web-accelerator/en/next_steps/next_steps_1/">
        Model your pipeline data
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/advanced-analytics-web-accelerator/en/next_steps/next_steps_2/" title="Visualise your pipeline data" class="dd-item ">
        <a href="/advanced-analytics-web-accelerator/en/next_steps/next_steps_2/">
        Visualise your pipeline data
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/advanced-analytics-web-accelerator/en/next_steps/next_steps_3/" title="Custom models" class="dd-item ">
        <a href="/advanced-analytics-web-accelerator/en/next_steps/next_steps_3/">
        Custom models
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
        
    </ul>

    
    
      <section id="shortcuts">
        <h3>More</h3>
        <ul>
          
              <li>
                  <a class="padding" href="https://try.snowplowanalytics.com/">Try Snowplow</a>
              </li>
          
              <li>
                  <a class="padding" href="https://snowplow.io/get-started/book-a-demo-of-snowplow-bdp/">Book a demo</a>
              </li>
          
              <li>
                  <a class="padding" href="https://docs.snowplow.io/docs/">Documentation</a>
              </li>
          
              <li>
                  <a class="padding" href="https://github.com/snowplow"><i class='fab fa-github'></i> Github</a>
              </li>
          
              <li>
                  <a class="padding" href="https://discourse.snowplow.io/">Discourse</a>
              </li>
          
        </ul>
      </section>
    

    
    <section id="prefooter">
      <hr/>
      <ul>
      
        <li>
          <a class="padding">
            <i class="fas fa-language fa-fw"></i>
          <div class="select-style">
            <select id="select-language" onchange="location = this.value;">
          
          
          
              
              
                  
                    
                    
                      <option id="en" value="https://snowplow-incubator.github.io/advanced-analytics-web-accelerator/en/next_steps/next_steps_1/" selected>English</option>
                    
                  
              
                  
              
          
        </select>
        <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
          width="255px" height="255px" viewBox="0 0 255 255" style="enable-background:new 0 0 255 255;" xml:space="preserve">
          <g>
            <g id="arrow-drop-down">
              <polygon points="0,63.75 127.5,191.25 255,63.75 		" />
            </g>
          </g>
        </svg>
        </div>
        </a>
        </li>
      

      
        <li><a class="padding" href="#" data-clear-history-toggle=""><i class="fas fa-history fa-fw"></i> Clear History</a></li>
      
      </ul>
    </section>
    
    <section id="footer">
      
    </section>
  </div>
</nav>




        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            <a href='/advanced-analytics-web-accelerator/en/'>Snowplow Accelerators</a> > <a href='/advanced-analytics-web-accelerator/en/next_steps/'>Next steps</a> > Model your pipeline data
          
        
          
        
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li></li>
      </ul>
    </li>
  </ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              Model your pipeline data
            </h1>
          

        


<p>At this stage you should:</p>
<ul>
<li>Have tracking and enrichment setup</li>
<li>Have some data in the <code>ATOMIC.EVENTS</code> table</li>
<li>Enabled IAB, UA parser and YAUAA enrichments</li>
<li>Have a working dbt project with the web model configurations for the sample data</li>
</ul>
<h4 id="step-1-complete-refresh-of-your-snowplow-web-package-optional"><strong>Step 1:</strong> Complete refresh of your Snowplow web package (Optional)</h4>
<p>If you would like to use your current dbt environment that you set up during modelling the sample data you might want to start from scratch.</p>
<p>While you can drop and recompute the incremental tables within this package using the standard <code>--full-refresh</code> flag, all manifest tables are protected from being dropped in production. Without dropping the manifest during a full refresh, the selected derived incremental tables would be dropped but the processing of events would resume from where the package left off (as captured by the <code>snowplow_web_incremental_manifest</code> table) rather than your <code>snowplow__start_date</code>.</p>
<p>In order to drop all the manifest tables and start again set the <code>snowplow__allow_refresh</code> variable to <code>true</code> at run time:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>dbt run --select snowplow_web tag:snowplow_web_incremental --full-refresh --vars <span style="color:#e6db74">&#39;snowplow__allow_refresh: true&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># or using selector flag</span>
</span></span><span style="display:flex;"><span>dbt run --selector snowplow_web --full-refresh --vars <span style="color:#e6db74">&#39;snowplow__allow_refresh: true&#39;</span>
</span></span></code></pre></div><h4 id="step-2-modify-variables"><strong>Step 2:</strong> Modify variables</h4>
<p>Assuming that you followed the guide on how to run the data model on the sample data, here we will only highlight the differences in the setup:</p>
<ul>
<li>
<p>Remove the <code>snowplow__events</code> variable. This time the base table will be the default <code>atomic.events</code>, therefore no need to overwrite it.</p>
</li>
<li>
<p>Change the <code>snowplow__start_date</code> variable according to the data you have in your events table.</p>
</li>
</ul>
<p>Optional:</p>
<ul>
<li><code>snowplow__backfill_limit_days</code>: The maximum number of days of new data to be processed since the latest event processed. Set it to 1.</li>
</ul>

<div class="notices note" ><p>We suggest changing <code>snowplow__backfill_limit_days</code> to 1 whilst working in your dev environment initially so that you can test how your incremental runs work. You will only have a few days of data available at this stage and if you leave it at the default 30 days, you will model all your data in one go.</p>
</div>
<h4 id="step-3-run-the-model"><strong>Step 3:</strong> Run the model</h4>
<p>Execute the following either through your CLI or from within dbt Cloud</p>
<pre tabindex="0"><code>dbt run --selector snowplow_web
</code></pre><p>Depending on the period of data available since the <code>snowplow__start_date</code> and the <code>snowplow__backfill_limit_days</code> variable you might not process all your data during your first run. Each time the model runs it should display the period it processes and the timestamp of the last event processed for each model within the package. This gets saved in the <code>snowplow__incremental_manifest</code> table so you can always check the data processing state (see below).</p>
<p><img src="../images/manifest.png" alt="manifest"></p>


<footer class="footline">
	
</footer>

        
        </div>
        
      </div>

    <div id="navigation">
        
        

        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        

        


	 
	 
		
			<a class="nav nav-prev" href="/advanced-analytics-web-accelerator/en/next_steps/" title="Next steps"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="/advanced-analytics-web-accelerator/en/next_steps/next_steps_2/" title="Visualise your pipeline data" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>

    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/advanced-analytics-web-accelerator/js/clipboard.min.js?1662712460"></script>
    <script src="/advanced-analytics-web-accelerator/js/perfect-scrollbar.min.js?1662712460"></script>
    <script src="/advanced-analytics-web-accelerator/js/perfect-scrollbar.jquery.min.js?1662712460"></script>
    <script src="/advanced-analytics-web-accelerator/js/jquery.sticky.js?1662712460"></script>
    <script src="/advanced-analytics-web-accelerator/js/featherlight.min.js?1662712460"></script>
    <script src="/advanced-analytics-web-accelerator/js/highlight.pack.js?1662712460"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/advanced-analytics-web-accelerator/js/modernizr.custom-3.6.0.js?1662712460"></script>
    <script src="/advanced-analytics-web-accelerator/js/learn.js?1662712460"></script>
    <script src="/advanced-analytics-web-accelerator/js/hugo-learn.js?1662712460"></script>
    
        
            <script src="https://unpkg.com/browse/mermaid@8.1.0/dist/mermaid.min.js"></script>
        
        <script>
            mermaid.initialize({ startOnLoad: true });
        </script>
    
    

  </body>
</html>

